{"submission_id": "2320", "source": "# include \"bits/stdc++.h\"\r\nusing namespace std;\r\nusing LL = long long;\r\nusing ULL = unsigned long long;\r\nconst double PI = acos(-1);\r\ntemplate<class T>constexpr T INF() { return ::std::numeric_limits<T>::max(); }\r\ntemplate<class T>constexpr T HINF() { return INF<T>() / 2; }\r\ntemplate <typename T_char>T_char TL(T_char cX) { return tolower(cX); };\r\ntemplate <typename T_char>T_char TU(T_char cX) { return toupper(cX); };\r\nconst int vy[] = { -1, -1, -1, 0, 1, 1, 1, 0 }, vx[] = { -1, 0, 1, 1, 1, 0, -1, -1 };\r\nconst int dx[4] = { -1,0,1,0 }, dy[4] = { 0,-1,0,1 };\r\nconst char dir[4] = { 'u','l','d','r' };\r\nint popcnt(unsigned long long n) { int cnt = 0; for (int i = 0; i < 64; i++)if ((n >> i) & 1)cnt++; return cnt; }\r\nint d_sum(LL n) { int ret = 0; while (n > 0) { ret += n % 10; n /= 10; }return ret; }\r\nint d_cnt(LL n) { int ret = 0; while (n > 0) { ret++; n /= 10; }return ret; }\r\nLL gcd(LL a, LL b) { if (b == 0)return a; return gcd(b, a%b); };\r\nLL lcm(LL a, LL b) { LL g = gcd(a, b); return a / g*b; };\r\n# define ALL(qpqpq)           (qpqpq).begin(),(qpqpq).end()\r\n# define UNIQUE(wpwpw)        (wpwpw).erase(unique(ALL((wpwpw))),(wpwpw).end())\r\n# define LOWER(epepe)         transform(ALL((epepe)),(epepe).begin(),TL<char>)\r\n# define UPPER(rprpr)         transform(ALL((rprpr)),(rprpr).begin(),TU<char>)\r\n# define FOR(i,tptpt,ypypy)   for(LL i=(tptpt);i<(ypypy);i++)\r\n# define REP(i,upupu)         FOR(i,0,upupu)\r\n# define INIT                 std::ios::sync_with_stdio(false);std::cin.tie(0)\r\n# pragma warning(disable:4996)\r\n\r\nstring s;\r\nint n;\r\n\r\nconst ULL B[] = { 999999937ULL,1000000007ULL };\r\n\r\n//a\u306fb\u306b\u542b\u307e\u308c\u3066\u3044\u308b\u304b?\r\nbool contain(string a, string b) {\r\n\tint al = a.length(), bl = b.length();\r\n\tif (al > bl)return false;\r\n\r\n\t//B\u306eal\u4e57\u3092\u8a08\u7b97\r\n\tULL t[] = { 1 ,1 };\r\n\tfor (int i = 0; i < al; i++)t[0] *= B[0];\r\n\tfor (int i = 0; i < al; i++)t[1] *= B[1];\r\n\r\n\t//a\u3068b\u306e\u6700\u521d\u306eal\u6587\u5b57\u306b\u95a2\u3059\u308b\u30cf\u30c3\u30b7\u30e5\u5024\u3092\u8a08\u7b97\r\n\tULL ah[] = { 0 ,0 }, bh[] = { 0 ,0 };\r\n\tfor (int i = 0; i < al; i++)ah[0] = ah[0] * B[0] + a[i];\r\n\tfor (int i = 0; i < al; i++)bh[0] = bh[0] * B[0] + b[i];\r\n\tfor (int i = 0; i < al; i++)ah[1] = ah[1] * B[1] + a[i];\r\n\tfor (int i = 0; i < al; i++)bh[1] = bh[1] * B[1] + b[i];\r\n\r\n\t//b\u306e\u5834\u6240\u30921\u3064\u305a\u3064\u9032\u3081\u306a\u304c\u3089\u30cf\u30c3\u30b7\u30e5\u5024\u3092\u30c1\u30a7\u30c3\u30af\r\n\tfor (int i = 0; i + al <= bl; i++) {\r\n\t\tif (ah[0] == bh[0] && ah[1] == bh[1])return true;//b\u306ei\u6587\u5b57\u76ee\u304b\u3089\u306eal\u6587\u5b57\u304c\u4e00\u81f4\r\n\t\tif (i + al < bl) {\r\n\t\t\tbh[0] = bh[0] * B[0] + b[i + al] - b[i] * t[0];\r\n\t\t\tbh[1] = bh[1] * B[1] + b[i + al] - b[i] * t[1];\r\n\t\t}\r\n\t}\r\n\treturn false;//\u4e00\u81f4\u3059\u308b\u6587\u5b57\u5217\u304c\u306a\u3044\r\n}\r\n\r\n\r\nint main() {\r\n\tcin >> s;\r\n\ts += s;\r\n\tcin >> n;\r\n\tREP(i, n) {\r\n\t\tstring t;\r\n\t\tcin >> t;\r\n\t\tbool ret = contain(t, s);\r\n\t\tcout << (ret ? \"possible\" : \"impossible\") << endl;\r\n\t}\r\n}", "problem_id": "116", "problem_title": "(500)Rotate Possible?", "datetime": "2018-08-28 13:46:44", "lang": "C++", "user": "tancahn2380", "sample_io": ["Accepted"], "testcase": [{"result": "Accepted", "max_score": "500", "io_result": ["Accepted", "Accepted", "Accepted", "Accepted", "Accepted"]}], "result": "Accepted", "score": "500", "max_score": "500"}