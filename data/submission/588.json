{"submission_id": "588", "source": "#include <iostream>\r\n\r\nconstexpr int MAX_HW = 1000;\r\nconstexpr int MAX_P = 10 + 1;\r\n\r\nint H, W, P, N;\r\nbool map[MAX_HW][MAX_HW];\r\nint dp[MAX_P][MAX_HW][MAX_HW];\r\n\r\nint main(){\r\n\r\n\tstd::cin >> H >> W >> P >> N;\r\n\r\n\tfor(int i = 0; i < H; ++i){\r\n\t\tfor(int j = 0; j < W; ++j){\r\n\t\t\tmap[i][j] = true;\r\n\t\t}\r\n\t}\r\n\r\n\tfor(int i = 0; i < N; ++i){\r\n\r\n\t\tint a, b;\r\n\t\tstd::cin >> a >> b;\r\n\r\n\t\tmap[a - 1][b - 1] = false;\r\n\t}\r\n\r\n\tdp[0][0][0] = 1;\r\n\tfor(int i = 0; i < P + 1; ++i){\r\n\t\tfor(int j = 0; j < H; ++j){\r\n\t\t\tfor(int k = 0; k < W; ++k){\r\n\t\t\t\tif(!map[j][k]){\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(j > 0){\r\n\t\t\t\t\tdp[i][j][k] += dp[i][j - 1][k];\r\n\t\t\t\t\tdp[i][j][k] %= 10000;\r\n\t\t\t\t}\r\n\t\t\t\tif(k > 0){\r\n\t\t\t\t\tdp[i][j][k] += dp[i][j][k - 1];\r\n\t\t\t\t\tdp[i][j][k] %= 10000;\r\n\t\t\t\t}\r\n\t\t\t\tif(i > 0){\r\n\t\t\t\t\tdp[i][j][k] += dp[i - 1][j][k];\r\n\t\t\t\t\tdp[i][j][k] %= 10000;\r\n\t\t\t\t}\r\n\t\t\t\tif(i > 1){\r\n\t\t\t\t\tif(j < H - 1){\r\n\t\t\t\t\t\tdp[i][j][k] += dp[i - 2][j + 1][k];\r\n\t\t\t\t\t\tdp[i][j][k] %= 10000;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(k < W - 1){\r\n\t\t\t\t\t\tdp[i][j][k] += dp[i - 2][j][k + 1];\r\n\t\t\t\t\t\tdp[i][j][k] %= 10000;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstd::cout << dp[P][H - 1][W - 1] << std::endl;\r\n\r\n\treturn 0;\r\n}", "problem_id": "67", "problem_title": "\u5bc4\u308a\u9053", "datetime": "2018-08-06 03:03:08", "lang": "C++", "user": "taiki_okano", "sample_io": ["Accepted"], "testcase": [{"result": "Accepted", "max_score": "100", "io_result": ["Accepted", "Accepted", "Accepted", "Accepted", "Accepted"]}], "result": "Accepted", "score": "100", "max_score": "100"}