{"submission_id": "504", "problem_id": "56", "problem_title": "INDEX", "datetime": "2018-08-02 21:30:56", "result": "WaitingJudge", "source": "#include<iostream>\r\n#include<algorithm>\r\n#include<vector>\r\n#include<string>\r\n\r\nclass trie {\r\npublic:\r\n\tint data = 0;\r\n\ttrie *next[27];\r\n\ttrie() {\r\n\t\tstd::fill(next, next + 27, (trie*)NULL);\r\n\t}\r\n\tvoid insert(char *s) {\r\n\t\tif (*s == NULL) {\r\n\t\t\tthis->next[26] = new trie();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this->next[*s - 'a'] == NULL) {\r\n\t\t\tthis->next[*s - 'a'] = new trie();\r\n\t\t}\r\n\t\tthis->next[*s - 'a']->data++;\r\n\t\tthis->next[*s - 'a']->insert(s + 1);\r\n\t}\r\n\tbool find(char *s) {\r\n\t\tif (*s == NULL)return this->next[26] != NULL;\r\n\t\tif (this->next[*s - 'a'] == NULL)return false;\r\n\t\treturn this->next[*s - 'a']->find(s + 1);\r\n\t}\r\n\tint count(char *s) {\r\n\t\tif (*(s + 1) == NULL)return this->next[*s - 'a']->data;\r\n\t\tif (this->next[*s - 'a'] == NULL)return false;\r\n\t\treturn this->next[*s - 'a']->count(s + 1);\r\n\t}\r\n};\r\nint main() {\r\n\ttrie T;\r\n\tint M;\r\n\tstd::cin >> M;\r\n\tfor (int i = 0; i < M; i++) {\r\n\t\tint P;\r\n\t\tstd::string S;\r\n\t\tstd::cin >> P >> S;\r\n\t\tif (P == 0) {\r\n\t\t\tT.insert(&S[0]);\r\n\t\t}\r\n\t\tif (P == 1) {\r\n\t\t\tstd::cout << T.count(&S[0]) << std::endl;\r\n\t\t}\r\n\t\tif (P == 2) {\r\n\t\t\tstd::cout << (T.find(&S[0]) ? \"Yes\" : \"no\") << std::endl;\r\n\t\t}\r\n\t}\r\n\treturn 0;\r\n}", "user": "weiwei12", "lang": "C++"}