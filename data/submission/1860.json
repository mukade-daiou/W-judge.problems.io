{"submission_id": "1860", "source": "#include \"bits/stdc++.h\"\r\n\r\nusing namespace std;\r\nusing ll = long long;\r\nusing ull = unsigned long long;\r\n\r\ntypedef pair<ll, ll> P;\r\ntypedef pair<double, double >pd;\r\ntypedef pair<string, string> sP;\r\ntypedef pair<ll, P> PP;\r\ntypedef pair<P, P> PPP;\r\n\r\nconst ll MOD = 1e9 + 7;\r\nconst ll MOD2 = 998244353;\r\nconst ll INF = 1 << 30;\r\nconst ll INF2 = 9e18;\r\nconst double INF3 = 5e14;\r\nconst double eps = 1e-10;\r\nconst double PI = acos(-1);\r\nconst int dx[4] = { 1,0,-1,0 }, dy[4] = { 0,1,0,-1 };\r\n\r\n#define ALL(x) (x).begin(),(x).end()\r\n#define ALLR(x) (x).rbegin(),(x).rend()\r\n#define pb push_back\r\n#define eb emplace_back\r\n#define fr first\r\n#define sc second\r\n\r\ntypedef vector<ll> vec;\r\ntypedef vector<vec> mat;\r\n\r\nmat mul(mat &a, mat &b) {\r\n\tmat c(a.size(), vec(b[0].size()));\r\n\tfor (int i = 0;i < a.size();i++) {\r\n\t\tfor (int k = 0;k < b.size();k++) {\r\n\t\t\tfor (int j = 0;j < b[0].size();j++) {\r\n\t\t\t\tc[i][j] = (c[i][j] + a[i][k] * b[k][j]) % MOD;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn c;\r\n}\r\n\r\nmat po(mat a, ll n) {\r\n\tmat b(a.size(), vec(a.size()));\r\n\tfor (int i = 0;i < a.size();i++) {\r\n\t\tb[i][i] = 1;\r\n\t}\r\n\twhile (n > 0) {\r\n\t\tif (n & 1)b = mul(b, a);\r\n\t\ta = mul(a, a);\r\n\t\tn >>= 1;\r\n\t}\r\n\treturn b;\r\n}\r\n\r\nll n, m;\r\nll h[100010];\r\n\r\nint main() {\r\n\tcin >> n >> m;\r\n\tif (n == 2) {\r\n\t\tmat a(2, vec(2));\r\n\t\ta[0][0] = 1;\r\n\t\ta[0][1] = 1;\r\n\t\ta[1][0] = 1;\r\n\t\ta[1][1] = 0;\r\n\t\ta = po(a, m);\r\n\t\tcout << a[1][0] << endl;\r\n\t\treturn 0;\r\n\t}\r\n\tif (m <= 100000) {\r\n\t\tfor (int i = 1;i <= n;i++) {\r\n\t\t\th[i] = 1;\r\n\t\t}\r\n\t\tfor (int i = n + 1;i <= m;i++) {\r\n\t\t\tll sum = 0;\r\n\t\t\tfor (int j = i - n;j < i;j++) {\r\n\t\t\t\tsum += h[j];\r\n\t\t\t\tsum %= MOD;\r\n\t\t\t}\r\n\t\t\th[i] = sum;\r\n\t\t}\r\n\t\tcout << h[m] << endl;\r\n\t}\r\n\treturn 0;\r\n}", "problem_id": "76", "problem_title": "\u590f\u4f11\u307f\u7de8Part2", "datetime": "2018-08-08 11:32:12", "lang": "C++", "user": "kaneshun", "sample_io": ["Accepted", "Accepted"], "testcase": [{"result": "Accepted", "max_score": "10", "io_result": ["Accepted", "Accepted", "Accepted", "Accepted"]}, {"result": "Accepted", "max_score": "20", "io_result": ["Accepted", "Accepted", "Accepted"]}, {"result": "WrongAnswer", "max_score": "70", "io_result": ["WrongAnswer", "WrongAnswer", "WrongAnswer"]}], "result": "WrongAnswer", "score": "30", "max_score": "100"}