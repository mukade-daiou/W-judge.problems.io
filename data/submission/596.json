{"submission_id": "596", "source": "#include<iostream>\r\n#include<algorithm>\r\nconst int mod=10000;\r\nint DP[12][1010][1010];\r\nbool T[1010][1010];\r\nint H,W,P,N;\r\nint main(){\r\n    std::cin>>H>>W>>P>>N;\r\n    for(int i=0;i<N;i++){\r\n        int A,B;\r\n        std::cin>>A>>B;\r\n        T[A][B]=true;\r\n    }\r\n    DP[0][1][1]=1;\r\n    for(int i=0;i<=P;i++){\r\n        for(int j=1;j<=H;j++){\r\n            for(int k=1;k<=W;k++){\r\n                if(T[j][k])continue;\r\n                //\u6700\u77ed\u3067\u79fb\u52d5\r\n                DP[i][j+1][k]+=DP[i][j][k];\r\n                DP[i][j+1][k]%=mod;\r\n                DP[i][j][k+1]+=DP[i][j][k];\r\n                DP[i][j][k+1]%=mod;\r\n                if(j!=H||k!=W){\r\n                    //\u5bc4\u308a\u9053\r\n                    DP[i+2][j-1][k]+=DP[i][j][k];\r\n                    DP[i+2][j-1][k]%=mod;           \r\n                    DP[i+2][j][k-1]+=DP[i][j][k];\r\n                    DP[i+2][j][k-1]%=mod;\r\n                    //\u7acb\u3061\u6b62\u307e\u308b\r\n                    DP[i+1][j][k]+=DP[i][j][k];\r\n                    DP[i+1][j][k]%=mod;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    int ans=0;\r\n    for(int i=0;i<=P;i++){\r\n        ans+=DP[i][H][W];\r\n        ans%=mod;\r\n    }\r\n    std::cout<<ans<<std::endl;\r\n    return 0;\r\n}", "problem_id": "67", "problem_title": "\u5bc4\u308a\u9053", "datetime": "2018-08-06 13:03:03", "lang": "C++", "user": "weiwei12", "sample_io": ["Accepted"], "testcase": [{"result": "Accepted", "max_score": "100", "io_result": ["Accepted", "Accepted", "Accepted", "Accepted", "Accepted", "Accepted", "Accepted"]}], "result": "Accepted", "score": "100", "max_score": "100"}