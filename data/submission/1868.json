{"submission_id": "1868", "source": "# include <iostream>\r\n# include <algorithm>\r\n# include <vector>\r\n# include <string>\r\n# include <set>\r\n# include <map>\r\n# include <cmath>\r\n# include <iomanip>\r\n# include <functional>\r\n# include <utility>\r\n# include <stack>\r\n# include <queue>\r\n# include <list>\r\n# include <bitset>\r\n# include <complex>\r\n#include<limits.h>\r\n#include<random>\r\n#include<deque>\r\n#include<cstdio>\r\n#include<fstream>\r\nusing namespace std;\r\ntypedef long long ll;\r\ntypedef unsigned long long ull;\r\nconst int N = 2000100;\r\nconst int mod = (int)pow(10, 9) + 7;\r\nconst ll INF = 1LL << 60;\r\n#define rep(i,n) for(ll i=(ll)0;i<(ll)n;++i)\r\n#define ALL(x) x.begin(),x.end()\r\n#define pp pair<ll,ll>\r\n#define ppp pair<pp,ll>\r\n#define fi first\r\n#define se second\r\n#define pb push_back\r\n#define fix(n) fixed<<setprecision(n)\r\n#define itr vector<ll>::iterator\r\n#define print(s) cout<<s<<endl\r\n#define inp(s) cin>>s\r\nstring yn(bool b) { return (b ? \"Yes\" : \"No\"); }\r\nstring YN(bool b) { return (b ? \"YES\" : \"NO\"); }\r\nstruct edge { ll to, cost, com; };\r\nvector<edge>edges[25010];\r\nll n, m,pass[4],d[25010];\r\nbool ans = 0;\r\npriority_queue<ppp, vector<ppp>, greater<ppp>>pq;\r\nint main() {\r\n\tcin >> n >> m;\r\n\trep(i, 4)cin >> pass[i];\r\n\tll p, q,l;\r\n\tchar x;\r\n\trep(i, 25010)d[i] = INF;\r\n\td[n-1] = 0;\r\n\trep(i, m) {\r\n\t\tcin >> p >> q >> x >> l;\r\n\t\t--p, --q;\r\n\t\tedges[p].push_back(edge{q,l,x-'A'});\r\n\t\tedges[q].push_back(edge{p,l,x-'A' });\r\n\t}\r\n\tpq.push(ppp{pp{d[n-1],n-1},0 });\r\n\twhile (!pq.empty()) {\r\n\t\tppp now = pq.top(); \r\n\t\tpq.pop();\r\n\t\tll x = now.fi.se,cost=now.fi.fi,b = now.se;\r\n\t\tif (d[x] < cost)continue;\r\n\t\trep(k,edges[x].size()) {\r\n\t\t\tedge e = edges[x][k];\r\n\t\t\tif (d[e.to] < d[x] + e.cost+((b>>e.com)&1?0:pass[e.com]))continue;\r\n\t\t\td[e.to] = d[x] + e.cost + ((b>>e.com)&1? 0:pass[e.com]);\r\n\t\t\tpq.push(ppp{pp{d[e.to],e.to},b+((b >> e.com) & 1 ? 0:1<<e.com)});\r\n\t\t}\r\n\t}\r\n\tcout << d[0] << endl;\r\n\treturn 0;\r\n}", "problem_id": "52", "problem_title": "TRAVELER", "datetime": "2018-08-08 11:35:45", "lang": "C++", "user": "mukadenodaiou", "sample_io": ["Accepted"], "testcase": [{"result": "WrongAnswer", "max_score": "100", "io_result": ["Accepted", "WrongAnswer", "Accepted", "Accepted", "Accepted"]}], "result": "WrongAnswer", "score": "0", "max_score": "100"}